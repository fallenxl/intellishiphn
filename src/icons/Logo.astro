---
interface Props {
  size?: number;
  animation?: boolean;
  color?: string;
}

const { size = 100, animation = false, color = "#46d9e3" } = Astro.props;
---

<svg
  id="logo-svg"
  class={`overflow-hidden ${animation ? "opacity-0 animation-logo" : "opacity-100"}`}
  xmlns="http://www.w3.org/2000/svg"
  width={size}
  height={size}
  viewBox="0 0 299.25 337.500003"
  preserveAspectRatio="xMidYMid meet"
  version="1.0"
  zoomAndPan="magnify"
>
  <defs>
    <clipPath id="18cfc331e5">
      <path
        d="M 0 0.171875 L 298.28125 0.171875 L 298.28125 66.171875 L 0 66.171875 Z M 0 0.171875"
        clip-rule="nonzero"></path>
    </clipPath>
    <clipPath id="a5182b19a9">
      <path
        d="M 8.976562 0.171875 L 289.207031 0.171875 C 291.585938 0.171875 293.871094 1.117188 295.554688 2.800781 C 297.238281 4.484375 298.183594 6.769531 298.183594 9.148438 L 298.183594 57.191406 C 298.183594 59.574219 297.238281 61.855469 295.554688 63.539062 C 293.871094 65.222656 291.585938 66.171875 289.207031 66.171875 L 8.976562 66.171875 C 6.597656 66.171875 4.3125 65.222656 2.628906 63.539062 C 0.945312 61.855469 0 59.574219 0 57.191406 L 0 9.148438 C 0 6.769531 0.945312 4.484375 2.628906 2.800781 C 4.3125 1.117188 6.597656 0.171875 8.976562 0.171875 Z"
        clip-rule="nonzero"></path>
    </clipPath>
    <clipPath id="722266ad90">
      <path
        d="M 48.886719 90.230469 L 298.441406 90.230469 L 298.441406 156.230469 L 48.886719 156.230469 Z"
        clip-rule="nonzero"></path>
    </clipPath>
    <clipPath id="b3c5b0f17c">
      <path
        d="M 57.863281 90.230469 L 289.207031 90.230469 C 291.585938 90.230469 293.871094 91.179688 295.554688 92.863281 C 297.238281 94.546875 298.183594 96.828125 298.183594 99.210938 L 298.183594 147.253906 C 298.183594 149.632812 297.238281 151.917969 295.554688 153.601562 C 293.871094 155.285156 291.585938 156.230469 289.207031 156.230469 L 57.863281 156.230469 C 55.484375 156.230469 53.199219 155.285156 51.515625 153.601562 C 49.832031 151.917969 48.886719 149.632812 48.886719 147.253906 L 48.886719 99.210938 C 48.886719 96.828125 49.832031 94.546875 51.515625 92.863281 C 53.199219 91.179688 55.484375 90.230469 57.863281 90.230469 Z"
        clip-rule="nonzero"></path>
    </clipPath>
    <clipPath id="ca278bc49d">
      <path
        d="M 113.050781 180.292969 L 298.414062 180.292969 L 298.414062 246.289062 L 113.050781 246.289062 Z"
        clip-rule="nonzero"></path>
    </clipPath>
    <clipPath id="77aa62d559">
      <path
        d="M 122.03125 180.292969 L 289.207031 180.292969 C 291.585938 180.292969 293.871094 181.238281 295.554688 182.921875 C 297.238281 184.605469 298.183594 186.886719 298.183594 189.269531 L 298.183594 237.3125 C 298.183594 239.691406 297.238281 241.976562 295.554688 243.660156 C 293.871094 245.34375 291.585938 246.289062 289.207031 246.289062 L 122.03125 246.289062 C 119.648438 246.289062 117.363281 245.34375 115.679688 243.660156 C 113.996094 241.976562 113.050781 239.691406 113.050781 237.3125 L 113.050781 189.269531 C 113.050781 186.886719 113.996094 184.605469 115.679688 182.921875 C 117.363281 181.238281 119.648438 180.292969 122.03125 180.292969 Z"
        clip-rule="nonzero"></path>
    </clipPath>
    <clipPath id="5beb59720d">
      <path
        d="M 149.09375 270.832031 L 298.359375 270.832031 L 298.359375 336.828125 L 149.09375 336.828125 Z"
        clip-rule="nonzero"></path>
    </clipPath>
    <clipPath id="a175d3a0a5">
      <path
        d="M 158.070312 270.832031 L 289.207031 270.832031 C 291.585938 270.832031 293.871094 271.777344 295.554688 273.460938 C 297.238281 275.144531 298.183594 277.425781 298.183594 279.808594 L 298.183594 327.851562 C 298.183594 330.230469 297.238281 332.515625 295.554688 334.199219 C 293.871094 335.882812 291.585938 336.828125 289.207031 336.828125 L 158.070312 336.828125 C 155.6875 336.828125 153.40625 335.882812 151.722656 334.199219 C 150.039062 332.515625 149.09375 330.230469 149.09375 327.851562 L 149.09375 279.808594 C 149.09375 277.425781 150.039062 275.144531 151.722656 273.460938 C 153.40625 271.777344 155.6875 270.832031 158.070312 270.832031 Z"
        clip-rule="nonzero"></path>
    </clipPath>
  </defs>

  <g id="logo-bar-1" class="w-0" clip-path="url(#18cfc331e5)">
    <g clip-path="url(#a5182b19a9)">
      <path
        class="logo-bar"
        fill={color}
        d="M 0 0.171875 L 298.28125 0.171875 L 298.28125 66.171875 L 0 66.171875 Z"
        fill-opacity="1"
        fill-rule="nonzero"></path>
    </g>
  </g>

  <g id="logo-bar-2" clip-path="url(#722266ad90)">
    <g clip-path="url(#b3c5b0f17c)">
      <path
        class="logo-bar"
        fill={color}
        d="M 48.886719 90.230469 L 298.183594 90.230469 L 298.183594 156.230469 L 42.886719 156.230469 Z"
        fill-opacity="1"
        fill-rule="nonzero"></path>
    </g>
  </g>

  <g id="logo-bar-3" clip-path="url(#ca278bc49d)">
    <g clip-path="url(#77aa62d559)">
      <path
        class="logo-bar"
        fill={color}
        d="M 113.050781 180.292969 L 298.15625 180.292969 L 298.15625 246.289062 L 113.050781 246.289062 Z"
        fill-opacity="1"
        fill-rule="nonzero"></path>
    </g>
  </g>

  <g id="logo-bar-4" clip-path="url(#5beb59720d)">
    <g clip-path="url(#a175d3a0a5)">
      <path
        class="logo-bar"
        fill={color}
        d="M 149.09375 270.832031 L 298.101562 270.832031 L 298.101562 336.828125 L 149.09375 336.828125 Z"
        fill-opacity="1"
        fill-rule="nonzero"></path>
    </g>
  </g>
</svg>

<script>
    import gsap from "gsap";

  const tl = gsap.timeline();
  const svgLogo = document.querySelector("#logo-svg") as HTMLElement;
// contain animation class?
  if (svgLogo.classList.contains("animation-logo")) {
    [1, 2, 3, 4].forEach((i, index) => {
      tl.from(
        `#logo-bar-${i}`,
        {
          opacity: 0,
          duration: 1.5,
          x: -400,
          ease: "power3.inOut",
          stagger: 0.1,
          delay: index * 0.1,
        },
        "<"
      );
    });

    tl.to(
      "#logo-svg",
      {
        opacity: 1,
        duration: 0.2,
        ease: "power3.inOut",
      },
      "<"
    );
  }
</script>
